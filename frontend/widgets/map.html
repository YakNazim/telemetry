{% autoescape None %}
<div class="map">
    <h2>{{ name }}</h2>
    <div id="maptile" style="width:900px;height:600px;"></div>

<script>
    var map = L.map('maptile').setView([43.798806, -120.650155], 15);
    L.tileLayer('/maps/brothers/{z}/{x}/{y}/', {
        minZoom: 12,
        maxZoom: 20,
    }).addTo(map);

    var launchtower = [43.795984, -120.651522];

    // 10 km
    L.circle(launchtower, 10e3, {
        color: '#444',
        weight: 2,
        opacity: 0.8,
        fill: false,
        dashArray: '5,5'
    }).addTo(map);

    // 1 km
    L.circle(launchtower, 1e3, {
        color: '#444',
        weight: 1,
        opacity: 0.5,
        fill: false,
    }).addTo(map);
    // 2 km
    L.circle(launchtower, 2e3, {
        color: '#444',
        weight: 1,
        opacity: 0.5,
        fill: false,
    }).addTo(map);
    // 3 km
    L.circle(launchtower, 3e3, {
        color: '#444',
        weight: 1,
        opacity: 0.5,
        fill: false,
    }).addTo(map);
    // 4 km
    L.circle(launchtower, 4e3, {
        color: '#444',
        weight: 1,
        opacity: 0.5,
        fill: false,
    }).addTo(map);
    // 5 km
    L.circle(launchtower, 5e3, {
        color: '#444',
        weight: 1,
        opacity: 0.5,
        fill: false,
    }).addTo(map);

    var towerIcon = L.icon({
        iconUrl: '/static/img/tower_small.png',
        iconSize: [30, 30],
        iconAnchor: [15, 15],
    });
    L.marker(launchtower, {
        icon: towerIcon,
        title: "Launch Tower"
    }).addTo(map);

    // TRA Research N Keepout
    L.circle(launchtower, 305, {
        color: '#c44',
        weight: 1,
        opacity: 0.5,
        fill: false,
    }).addTo(map);
</script>
</div>
